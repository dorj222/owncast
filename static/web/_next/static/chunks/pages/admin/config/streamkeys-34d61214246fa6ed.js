(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5778],{48689:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(1413),o=n(67294),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},a=n(42135),s=function(e,t){return o.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};s.displayName="DeleteOutlined";var c=o.forwardRef(s)},24969:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(1413),o=n(67294),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},a=n(42135),s=function(e,t){return o.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};s.displayName="PlusOutlined";var c=o.forwardRef(s)},62705:function(e,t,n){var r=n(55639).Symbol;e.exports=r},44239:function(e,t,n){var r=n(62705),o=n(89607),i=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},27561:function(e,t,n){var r=n(67990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},31957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},89607:function(e,t,n){var r=n(62705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(o){}var c=a.call(e);return r&&(t?e[s]=n:delete e[s]),c}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:function(e,t,n){var r=n(31957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},67990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:function(e,t,n){var r=n(13218),o=n(7771),i=n(14841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,f,d,h,y=0,p=!1,v=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function x(t){var n=c,r=u;return c=u=void 0,y=t,f=e.apply(r,n)}function g(e){var n=e-h,r=e-y;return void 0===h||n>=t||n<0||v&&r>=l}function j(){var e,n,r,i=o();if(g(i))return b(i);d=setTimeout(j,(e=i-h,n=i-y,r=t-e,v?s(r,l-n):r))}function b(e){return(d=void 0,m&&c)?x(e):(c=u=void 0,f)}function w(){var e,n=o(),r=g(n);if(c=arguments,u=this,h=n,r){if(void 0===d)return y=e=h,d=setTimeout(j,t),p?x(e):f;if(v)return clearTimeout(d),d=setTimeout(j,t),x(h)}return void 0===d&&(d=setTimeout(j,t)),f}return t=i(t)||0,r(n)&&(p=!!n.leading,l=(v="maxWait"in n)?a(i(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),w.cancel=function(){void 0!==d&&clearTimeout(d),y=0,c=h=u=d=void 0},w.flush=function(){return void 0===d?f:b(o())},w}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,t,n){var r=n(44239),o=n(37005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},7771:function(e,t,n){var r=n(55639);e.exports=function(){return r.Date.now()}},14841:function(e,t,n){var r=n(27561),o=n(13218),i=n(33448),a=0/0,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):s.test(e)?a:+e}},40466:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config/streamkeys",function(){return n(14118)}])},14118:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(67294),i=n(84485),a=n(18119),s=n(69677),c=n(71577),u=n(26713),l=n(14670),f=n(52206),d=n(24969),h=n(99611),y=n(48689),p=n(99519),v=n(64777);let{Title:m,Paragraph:x}=i.Z,{Item:g}=a.Z,j=async(e,t)=>{try{await (0,v.rQ)(v.um,{method:"POST",auth:!0,data:{value:e}})}catch(n){console.error(n),t(n)}},b=e=>{let{setShowAddKeyForm:t,setFieldInConfigState:n,streamKeys:o,setError:i}=e,u=e=>{let r=[...o,e];console.log(r),n({fieldName:"streamKeys",value:r}),j(r,i),t(!1)};return(0,r.jsxs)(a.Z,{layout:"inline",autoComplete:"off",onFinish:u,children:[(0,r.jsx)(g,{label:"Key",name:"key",tooltip:"The key you provide your broadcasting software",children:(0,r.jsx)(s.Z,{placeholder:"def456"})}),(0,r.jsx)(g,{label:"Comment",name:"comment",tooltip:"For remembering why you added this key",children:(0,r.jsx)(s.Z,{placeholder:"My OBS Key"})}),(0,r.jsx)(c.Z,{type:"primary",htmlType:"submit",children:"Add"})]})},w=e=>{let{setShowAddKeyForm:t}=e;return(0,r.jsx)(c.Z,{type:"default",onClick:()=>t(!0),children:(0,r.jsx)(d.Z,{})})},k=()=>{let e=(0,o.useContext)(p.aC),{serverConfig:t,setFieldInConfigState:n}=e||{},{streamKeys:i}=t,[a,s]=(0,o.useState)(!1),[d,v]=(0,o.useState)({}),[g,k]=(0,o.useState)(null),Z=e=>{let t=i.filter(t=>t!==e);n({fieldName:"streamKeys",value:t}),j(t,k)},O=e=>{v({...d,[e]:!d[e]})};return(0,r.jsxs)("div",{children:[(0,r.jsx)(m,{children:"Streaming Keys"}),(0,r.jsx)(x,{children:"A streaming key is used with your broadcasting software to authenticate itself to Owncast. Most people will only need one. However, if you share a server with others or you want different keys for different broadcasting sources you can add more here."}),(0,r.jsx)(x,{children:"These keys are unrelated to the admin password and will not grant you access to make changes to Owncast's configuration."}),(0,r.jsxs)(x,{children:["Read more about broadcasting at"," ",(0,r.jsx)("a",{href:"https://owncast.online/docs/broadcasting/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"the documentation"}),"."]}),(0,r.jsxs)(u.Z,{direction:"vertical",style:{width:"70%"},children:[g&&(0,r.jsx)(l.Z,{type:"error",message:"Saving Keys Error",description:g}),0===i.length&&(0,r.jsx)(l.Z,{message:"No stream keys!",description:"You will not be able to stream until you create at least one stream key and add it to your broadcasting software.",type:"error"}),(0,r.jsx)(f.Z,{rowKey:"key",columns:[{title:"Key",dataIndex:"key",key:"key",render:e=>(0,r.jsxs)(u.Z,{direction:"horizontal",children:[(0,r.jsx)(x,{copyable:!0,children:d[e]?e:"**********"}),(0,r.jsx)(c.Z,{type:"link",style:{top:"-7px"},icon:(0,r.jsx)(h.Z,{}),onClick:()=>O(e)})]})},{title:"Comment",dataIndex:"comment",key:"comment"},{title:"",key:"delete",render:e=>(0,r.jsx)(c.Z,{onClick:()=>Z(e),icon:(0,r.jsx)(y.Z,{})})}],dataSource:i,pagination:!1,footer:()=>a?(0,r.jsx)(b,{setShowAddKeyForm:s,streamKeys:i,setFieldInConfigState:n,setError:k}):(0,r.jsx)(w,{setShowAddKeyForm:s})}),(0,r.jsx)("br",{})]})]})};t.default=k}},function(e){e.O(0,[4485,8909,3903,4267,2206,8119,9774,2888,179],function(){return e(e.s=40466)}),_N_E=e.O()}]);